@model Amos.Models.Build_PageModel


@if (Model.GetPage.SortOrder == 0)
{
    <li class="page" data-id="@Model.GetPage.PageId">
        @getGuts(true)
    </li>
}
else
{
    @getGuts(false);
}

@helper getGuts(bool isNew)
    {
        string pageIdentifier = Model.ModuleCount + "_" + Model.SectionCount + "_" + Model.ChapterCount + "_" + Model.PageCount;
            <div class="info-controls">
                <i class="fa fa-sort-up"></i>
                <i class="fa fa-sort-down"></i>
                <i class="fa fa-minus"></i>
            </div>
            <div class="info-content">
                <div class="info-name">
                    <div class="info-name-label" data-id="@Model.GetPage.PageId">Page 1</div>
                    <input type="text" value="@Model.GetPage.Title" class="partName" />
                </div>

                <div class="action-menu">
                    <div class="dropdown">
                        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            action
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" data-id="@Model.GetPage.PageId">
                            @if (isNew)
                            {
                                <button class="dropdown-item" data-type="page" onclick="performActionMenu(this)">import</button>
                                <button class="dropdown-item" data-type="page" onclick="performActionMenu(this)">delete</button>
                            }
                            else
                            {
                                <button data-id="@Model.GetPage.PageId" class="dropdown-item" data-type="page" onclick="performActionMenu(this)">preview</button>
                                <button data-id="@Model.GetPage.PageId" class="dropdown-item" data-type="page" onclick="performActionMenu(this)">delete</button>
                                <button data-id="@Model.GetPage.PageId" class="dropdown-item" data-type="page" onclick="performActionMenu(this)">edit</button>
                            }

                        </div>
                    </div>
                </div>
            </div>
}